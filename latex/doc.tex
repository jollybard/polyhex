\documentclass{article}
\usepackage[utf8]{inputenc}

 
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage{listings}
\usepackage{todonotes}

% Todo
\newcommand\todoalex[1]{\todo[inline]{Alexandre : #1}}
\newcommand\todoantoine[1]{\todo[inline]{Antoine : #1}}

%\usepackage[urw-garamond]{mathdesign}
%\usepackage[T1]{fontenc}

\newtheorem{thm}{Théorème}[section]
\newtheorem{lem}{Lemme}[section]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]

\renewcommand*{\proofname}{Preuve}
\renewcommand{\qedsymbol}{$\blacksquare$}

\renewcommand{\baselinestretch}{1.2}
\setlength{\parskip}{5pt}
%\setlength{\topsep}{1pt}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\dist}{\text{dist}}
\newcommand{\Lhex}{L_{\text{hex}}}
\newcommand{\Ltri}{L_{\text{tri}}}
\newcommand{\Ghex}{\mathcal{G}_{\text{hex}} }
\newcommand{\Hex}{\mathcal{H}}
\newcommand{\hex}{\text{hex}}
\newcommand{\Gtri}{\mathcal{G}_{\text{tri}}}
\newcommand{\Tri}{\mathcal{T}}
\newcommand{\tri}{\text{tri}}
\newcommand{\g}{\text{gauche}}
\renewcommand{\d}{\text{droite}}

\begin{document}

\todoalex{Ajouter un titre + auteur avec la commande \texttt{maketitle}}

\section{Définitions}

\todoalex{Définir plus formellement ce que sont les hexagones (définition géométrique), ainsi que la relation d'adjacence (quelle est la règle pour décider si deux hexagones sont adjacents), pour faciliter le passage vers l'informatique.}
Le \emph{pavage hexagonal} est le pavage du plan euclidien constitué
d'hexagones réguliers. Nous nous intéresserons à son graphe simple
associé, caractérisé comme $\Ghex = (\Hex, A_{\text{hex}})$, où $\Hex$
est l'ensemble des \emph{hexagones} et $A_\hex = \{(p,p') \in \Hex 
\times \Hex\ | \text{$p$ et $p'$ sont adjacents}\}$ est la 
\emph{relation d'adjacence hexagonale}. Pour tout sous-ensemble fini $U 
\subset \Hex$, on dit que $\Ghex[U]$ est un \emph{polyhexagone} s'il est 
connexe. Les \emph{polytriangles} sont définis similairement.

\todoalex{Déplacer ce paragraphe plus haut. Ce sont des définitions générales sur les graphes, donc ça devrait apparaître avant.}
Soit $G = (V,E)$ un graphe simple quelconque. On dit qu'un sommet 
$u \in V$ est une feuille si et seulement si $\text{deg}(u) = 1$, 
et on écrit $n_1(G)$ le nombre de feuilles de $G$. La 
\emph{taille} de $G$ est le nombre de sommets de $G$, écrit $n(G)$.
La \emph{profondeur} d'un sommet $v$ dans un arbre $T$ est définie 
récursivement ainsi:
\[
   prof_T(v) =
   \begin{cases}
      0, \qquad & \text{si $\text{deg}_T(u) \leq 1$}; \\
      1 + prof_{T'}(u), & \text{sinon},
   \end{cases}
\]
où $T'$ est l'arbre obtenu en retirant toutes les feuilles de $T$.

Nous nous intéresserons alors aux polyhexagones et polytriangles
acycliques, dits \emph{arborescents}. Le nombre maximal de feuilles 
pour un polyhexagone ou polytriangle arborescent à $n$ cellules est
dénoté $\Lhex(n)$ et $\Ltri(n)$, respectivement.

\section{Démonstration}

\todoalex{Changer le titre de la section, qui porte sur les pavages hexagonaux. Démonstration est trop vague.}

\todoalex{Éviter l'emploi de la lettre $l$ en mode mathématique. Préférer $\ell$.}

\todoalex{Tu définis $l$ de façon non récursive. Comme ton argument dans la démonstration est récursif, je pense qu'il serait mieux de le définir récursivement, quitte à indiquer que la version non récursive est facile à trouver et la donner.}
Pour tout entier $n \geq 2$, soit la fonction $l(n)$ telle que
\begin{equation}
   \label{eq:l}
   l(n) = 
         \lfloor n/2 \rfloor + 1.
\end{equation}
Nous allons démontrer que $\Ltri(n) = \Lhex(n) = l(n)$.

\begin{lem}
   Pour tout $n \geq 2$, $\Lhex(n) \geq l(n)$ et $\Ltri(n) \geq l(n)$.
\end{lem}
\begin{proof}
   Nous allons construire une famille de polyhexagones 
   $\{ H_n\ |\ n \geq 2\}$ dont le nombre de feuilles est donné 
   par $l(n)$, et pour laquelle il existe une famille isomorphe 
   de polytriangles.
   
   \begin{figure}[h!]
   \caption{La famille de polyhexagones $I_n$}
   \label{fig:In}
   \includegraphics[width=\textwidth]{In.eps}
   \end{figure}

   \todoalex{J'ai changé la commande \texttt{mod} par \texttt{bmod}, qui donne un meilleur aspect typographique. J'ai aussi enlevé les parenthèses en indice.}
   \todoalex{Lorsque tu utilises un caratère $|$ dans un ensemble, il est mieux de mettre $\mid$ qui gère mieux l'espacement. Je l'ai changé plus bas, regarder ailleurs si ça s'applique.}
   Pour ce faire, nous allons commencer par définir une famille
   auxiliaire de polyhexagones à $n - 1$ cellules, $\{I_n \mid n \geq 2\}$ 
   (figure \ref{fig:In}), à laquelle nous ajoutons un hexagone 
   supplémentaire vers la gauche. Pour $n>5$, $I_n$ est construit en 
   collant $\lfloor \frac{n-1}{4} \rfloor$ fois $I_5$, puis en ajoutant 
   $I_{n \bmod 4}$ à la droite.
   \todoalex{C'est la phrase ci-bas qui cache un argument récursif, même si ça ne paraît pas immédiatement.}
   On remarque que $I_n$ gagne une feuille 
   à chaque bond de 2, et que l'hexagone supplémentaire rajoute une 
   feuille, d'où la formule en \eqref{eq:l}. 
\end{proof}

\begin{lem}
   \label{lem:hyp}
   Soit $T$ un polyhexagone ou un polytriangle arborescent de taille minimale tel que $n_1(T) > l(n(T))$ et soit $T'$ un polyhexagone ou un polytriangle arborescent tel $n(T) = n(T') + 2$. Alors
   \[
      n_1(T) > n_1(T) + 1.
   \]
\end{lem}

\begin{proof}
   Premièrement, remarquons que $l(n + 2) = l(n) + 1$. En effet,
   \todoalex{J'ai ajouté les commandes \texttt{left} et \texttt{right} pour équilibrer les symboles $\lfloor$ et $\rfloor$. Je te laisse corriger pour le reste du document.}
   \todoalex{Mettre la suite d'égalités sur une seule ligne, vu que chaque étape est évidente.}
   \begin{align*}
      l(n+2) &= \left\lfloor \frac{n+2}{2} \right\rfloor + 1 \\
             &= \lfloor n/2 + 1 \rfloor + 1 \\
             &= \lfloor n/2 \rfloor + 1 + 1 = l(n) + 1.
   \end{align*}
   Ainsi,
   \begin{align*}
      && n_1(T) &> l(n(T)), && \\
      &&      &= l(n(T') + 2), && \\
      &&       &= l(n(T')) + 1, &&  \\
      &&       &\geq n_1(T') + 1 && \text{par minimalité de $T$.}
   \end{align*}
\end{proof}

\begin{lem}
   Pour tout $n \geq 2$, $\Lhex(n) \leq l(n)$ et $\Ltri \leq l(n)$.
\end{lem}

\begin{proof}
   Supposons, en procédant par contradiction, que $T$ soit un
   polyhexagone ou polytriangle arborescent de taille minimale 
   tel que $n_1(T) > l(n(T))$.

   Premièrement, remarquons que tous les sommets de $T$ de profondeur 
   1 sont de degré 3. En effet, si un sommet $u_1$ de profondeur 1 
   était de degré 2, on pourrait allors supprimer la feuille adjacente 
   à $u_1$ et obtenir un arbre de taille plus petite sans perdre 
   de feuilles, et $T$ ne serait alors pas minimal. De plus, dans 
   le cas des polytriangles, un sommet ne peut avoir plus de trois
   voisins; et dans le cas des polyhexagones, avoir plus de 3 voisins
   créerait un cycle.

   Deuxièmement, $T$ ne peut pas avoir de sommet de profondeur 2. 
   Supposons qu'un tel sommet $u_2$ existe. Alors $u_2$ doit avoir un 
   voisin de profondeur 1, $v_1$. Nous avons vu que $v_1$ devait avoir 
   trois voisins. Deux d'entre eux sont nécessairement des feuilles. 
   Considérons alors l'arbre $T'$ obtenu en supprimant les deux feuilles 
   adjacentes à $v_1$. On a que $n(T) = n(T') + 2$ mais $n_1(T) = 
   n_1(T') + 1$, contredisant le lemme \ref{lem:hyp}.

   Puisque tous les polyhexagones ou polytriangles arborescents de taille 
   supé\-rieure à 4 ont au moins un sommet de profondeur 2, la preuve est 
   complétée par vérification exhaustive des polyhexagones ou 
   polytriangles arborescents de taille inférieure ou égale à 4.

   \todoalex{La démonstration est claire et me semble correcte. Tu as bien compris celle que nous avions faite, en la simplifiant pour le cas des polyhexes/polytriangles.}
\end{proof}

En combinant les lemmes précedant, on obtient le théorème suivant.

\todoalex{Je remplacerais $\frac{1}{2}n$ par $n / 2$, qui m'apparaît plus esthétique.}
\begin{thm}
   Pour tout $n \geq 2$, $\Lhex = \Ltri = l(n)$, et leur croissance
   asymptotique est donnée par $\frac{1}{2}n$. \hfill $\blacksquare$
\end{thm}
\end{document}
